var e,n;e=this,n=function(e){"use strict";var n=function(){return n=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},n.apply(this,arguments)};function r(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]])}return r}function t(e){var n="function"==typeof Symbol&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,n){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var t,a,o=r.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(t=o.next()).done;)i.push(t.value)}catch(e){a={error:e}}finally{try{t&&!t.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i}function o(e,n,r){if(r||2===arguments.length)for(var t,a=0,o=n.length;a<o;a++)!t&&a in n||(t||(t=Array.prototype.slice.call(n,0,a)),t[a]=n[a]);return e.concat(t||Array.prototype.slice.call(n))}function i(e){for(var n=[],r=0;r<e.length;r++){var t=e[r];n.push([r,t])}return n}function u(e){for(var n=Object.keys(e),r=n.length,t=new Array(r);r--;)t[r]=[n[r],e[n[r]]];return t}function l(e){return"string"==typeof e?'"'+e.replace(/"/g,'"')+'"':""+e}function f(e){return e}function p(e){return function(n,r){return e(n,r.strictValidation)?[]:r.fail()}}function c(e){return r={type:function(){return e.type},validateBeforeMap:e.validate,validateBeforeUnmap:e.validate,map:e.map,unmap:e.map},n(n({},r),{validateBeforeMapXml:r.validateBeforeUnmap,mapXml:r.map,unmapXml:r.unmap});var r}function m(e,n){return n?"number"==typeof e:"number"==typeof e||"string"==typeof e&&!isNaN(e)}function v(e){return"number"==typeof e?e:+e}function d(e){return"bigint"==typeof e?e:BigInt(e)}function y(e,n){var r=new Set(n),t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&!r.has(a)&&(t[a]=e[a]);return t}function h(e){return-1!==e.indexOf(" ")?l(e):e}function s(e){return null==e}function b(e,n){return function(e){return e.startsWith("Optional<Nullable<")||e.startsWith("Nullable<Optional<")}(e)&&s(n)}function X(e,n){var r=j(g(e,n.type())),t=n.validateBeforeMap(e,r);return 0===t.length?b(n.type(),e)?{errors:!1,result:e}:{errors:!1,result:n.map(e,r)}:{errors:t}}function B(e,n){var r=j(g(e,n.type())),t=n.validateBeforeUnmap(e,r);return 0===t.length?{errors:!1,result:n.unmap(e,r)}:{errors:t}}function g(e,n,r){return{value:e,type:n,branch:[e],path:[],strictValidation:r}}function j(e){var r=function(n,r,t){return j({value:r,type:t.type(),branch:e.branch.concat(r),path:e.path.concat(n),strictValidation:e.strictValidation})},i=function(e,n,t){return e.map((function(e){return t(e,r(e[0],e[1],n))}))};return n(n({},e),{createChild:r,flatmapChildren:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(e){var n,r,a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;try{for(var p=(a=void 0,t(f)),c=p.next();!c.done;c=p.next()){var m=c.value;i.push(m)}}catch(e){a={error:e}}finally{try{c&&!c.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return i}(i.apply(void 0,o([],a(e))))},mapChildren:i,fail:function(n){return[{value:e.value,type:e.type,branch:e.branch,path:e.path,message:O(e,n)}]}})}function O(e,n){var r=JSON.stringify(e.value,(function(e,n){return"bigint"==typeof n?n.toString():n}));return n=(null!=n?n:"Expected value to be of type '"+e.type+"' but found '"+typeof e.value+"'.")+"\n\nGiven value: "+r+"\nType: '"+typeof e.value+"'\nExpected type: '"+e.type+"'",e.path.length>0&&(n+="\nPath: "+e.path.map((function(e){return h(e.toString())})).join(" â€º ")),n}function x(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return S(i,r)}function M(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return S(i,r)}function w(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return S(i,r)}function S(e,n){return e.length>0?[]:n.fail("Could not match against any acceptable type.")}function A(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].map(n,r):void 0}function U(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].unmap(n,r):void 0}function P(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].mapXml(n,r):void 0}function N(e,n,r){var a,o,i=[];try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return i.length>0?i[0].unmapXml(n,r):void 0}function E(e,n){return n?"bigint"==typeof e:"bigint"==typeof e||"number"==typeof e||"string"==typeof e&&/^-?\d+$/.test(e)}function C(e,n){return n?"boolean"==typeof e:"boolean"==typeof e||"string"==typeof e&&("true"===e||"false"===e)}function k(e,n){return null==e||e===n}function T(e){var n=function(n,r,t){if("object"!=typeof r||null===r)return t.fail();var a=r;return t.flatmapChildren(u(a),e,(function(r,t){return e[n](r[1],t)}))};return{type:function(){return"Record<string,"+e.type()+">"},validateBeforeMap:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.apply(void 0,o(["validateBeforeMap"],a(e)))},validateBeforeUnmap:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.apply(void 0,o(["validateBeforeUnmap"],a(e)))},map:function(n,r){var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a];t[a]=e.map(o,r.createChild(a,o,e))}return t},unmap:function(n,r){var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a];t[a]=e.unmap(o,r.createChild(a,o,e))}return t},validateBeforeMapXml:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.apply(void 0,o(["validateBeforeMapXml"],a(e)))},mapXml:function(n,r){var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a];t[a]=e.mapXml(o,r.createChild(a,o,e))}return t},unmapXml:function(n,r){var t={};for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)){var o=n[a];t[a]=e.unmapXml(o,r.createChild(a,o,e))}return t}}}function $(e){return{type:function(){return"Optional<"+e.type()+">"},validateBeforeMap:function(n,r){return s(n)?[]:e.validateBeforeMap(n,r)},validateBeforeUnmap:function(n,r){return void 0===n?[]:e.validateBeforeUnmap(n,r)},map:function(n,r){return s(n)?void 0:e.map(n,r)},unmap:function(n,r){return void 0===n?void 0:e.unmap(n,r)},validateBeforeMapXml:function(n,r){return void 0===n?[]:e.validateBeforeMapXml(n,r)},mapXml:function(n,r){return void 0===n?void 0:e.mapXml(n,r)},unmapXml:function(n,r){return void 0===n?void 0:e.unmapXml(n,r)}}}function V(e){var n=L(e,!1,!1);return n.type=function(){return"StrictObject<{"+Object.keys(e).map(h).join(",")+"}>"},n}function I(e){return L(e,!0,!0)}function W(e){var n=L(e,!0,!1);return n.type=function(){return"Object<{"+Object.keys(e).map(h).join(",")+"}>"},n}function L(e,n,r){var t=Object.keys(e),o=H(e),i=function(e){var n,r,t={},o={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var u=a(e[i],3),l=u[0],f=u[2];!0===(null==f?void 0:f.isAttr)?o[null!==(n=f.xmlName)&&void 0!==n?n:l]=i:t[null!==(r=null==f?void 0:f.xmlName)&&void 0!==r?r:l]=i}return{elementsToProps:t,attributesToProps:o}}(e),u=function(e){var n,r={},t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a(e[o],3),u=i[0],l=i[1],f=i[2];((null==f?void 0:f.isAttr)?t:r)[o]=[null!==(n=null==f?void 0:f.xmlName)&&void 0!==n?n:u,l,f]}return{elementsSchema:r,attributesSchema:t}}(e),l=function(e){return{attributesSchema:H(e.attributesSchema),elementsSchema:H(e.elementsSchema)}}(u);return{type:function(){return"Object<{"+t.map(h).join(",")+",...}>"},validateBeforeMap:q(e,"validateBeforeMap",n,r),validateBeforeUnmap:q(o,"validateBeforeUnmap",n,r),map:F(e,"map",r),unmap:F(o,"unmap",r),validateBeforeMapXml:_(e,i,n,r),mapXml:z(u,r),unmapXml:D(l,r),objectSchema:e}}function _(e,t,a,o){var i=t.elementsToProps,u=t.attributesToProps;return function(t,l){if("object"!=typeof t||null===t)return l.fail();if(Array.isArray(t))return l.fail("Expected value to be of type '"+l.type+"' but found 'Array<"+typeof t+">'.");var f=t,p=f.$,c=r(f,["$"]),m={validationMethod:"validateBeforeMapXml",propTypeName:"child elements",propTypePrefix:"element",valueTypeName:"element",propMapping:i,objectSchema:e,valueObject:c,ctxt:l,skipAdditionalPropValidation:a,mapAdditionalProps:o},v=G(m),d=G(m=n(n({},m),{propTypeName:"attributes",propTypePrefix:"@",propMapping:u,valueObject:null!=p?p:{}}));return v.concat(d)}}function z(e,t){var o=e.elementsSchema,i=e.attributesSchema,l=F(o,"mapXml",t),f=F(i,"mapXml",!1),p=u(i).map((function(e){var n=a(e,2);return n[0],a(n[1],1)[0]}));return function(e,a){var o=e,i=o.$,u=r(o,["$"]),c=null!=i?i:{},m=n(n({},f(c,a)),l(u,a));if(t){var v=y(c,p);Object.keys(v).length>0&&(m.$=v)}return m}}function D(e,t){var o=e.elementsSchema,i=e.attributesSchema,l=F(o,"unmapXml",t),f=F(i,"unmapXml",!1),p=u(i).map((function(e){var n=a(e,2);return n[0],a(n[1],1)[0]}));return function(e,a){var o=e,i=o.$,u=r(o,["$"]),c="object"==typeof i&&null!==i&&t?i:{};return n(n({},l(y(u,p),a)),{$:n(n({},c),f(e,a))})}}function G(e){var n,r,o,i=e.validationMethod,u=e.propTypeName,l=e.propTypePrefix,f=e.valueTypeName,p=e.propMapping,c=e.objectSchema,m=e.valueObject,v=e.ctxt,d=e.skipAdditionalPropValidation,y=e.mapAdditionalProps,h=[],s=new Set,b=new Set,X=new Set(Object.keys(m));if("validateBeforeMap"!==i&&"boolean"!=typeof y&&y[0]in m)try{for(var B=t(Object.entries(m[y[0]])),g=B.next();!g.done;g=B.next()){var j=a(g.value,2),O=j[0];j[1],Object.prototype.hasOwnProperty.call(c,O)&&b.add(O)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=B.return)&&r.call(B)}finally{if(n)throw n.error}}for(var O in R(b,(function(e){return J("Some keys in additional properties are conflicting with the keys in",f,e)}),h,v),p)if(Object.prototype.hasOwnProperty.call(p,O)){var x=c[p[O]][1];X.delete(O),O in m?x[i](m[O],v.createChild(l+O,m[O],x)).forEach((function(e){return h.push(e)})):(o=x.type()).startsWith("Optional<")||o.startsWith("Nullable<")||s.add(O)}return d||R(X,(function(e){return J("Some unknown "+u+" were found in the",f,e)}),h,v),R(s,(function(e){return J("Some "+u+" are missing in the",f,e)}),h,v),h}function J(e,n,r){return e+" "+n+": "+r.map(l).join(", ")+"."}function R(e,n,r,t){var a=Array.from(e);if(a.length>0){var o=n(a);t.fail(o).forEach((function(e){return r.push(e)}))}}function q(e,n,r,t){var a=function(e){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[e[r][0]]=r);return n}(e);return function(o,i){return"object"!=typeof o||null===o?i.fail():Array.isArray(o)?i.fail("Expected value to be of type '"+i.type+"' but found 'Array<"+typeof o+">'."):G({validationMethod:n,propTypeName:"properties",propTypePrefix:"",valueTypeName:"object",propMapping:a,objectSchema:e,valueObject:o,ctxt:i,skipAdditionalPropValidation:r,mapAdditionalProps:t})}}function F(e,r,t){return function(o,i){var u={},l=n({},o),f="unmap"===r||"unmapXml"===r;return f&&"boolean"!=typeof t&&t[0]in l&&(Object.entries(l[t[0]]).forEach((function(e){var n=a(e,2),r=n[0],t=n[1];return l[r]=t})),delete l[t[0]]),Object.entries(e).forEach((function(e){var n=a(e,2),t=n[0],o=n[1],f=o[0],p=l[f];if(delete l[f],b(o[1].type(),p)){if(void 0===p)return;u[t]=null}else(function(e,n){return e.startsWith("Optional<")&&void 0===n})(o[1].type(),p)||(u[t]=o[1][r](p,i.createChild(f,p,o[1])))})),Object.entries(function(e,n,r){var t,o={};return r?"boolean"==typeof r?(Object.entries(e).forEach((function(e){var n=a(e,2),r=n[0],t=n[1];return o[r]=t})),o):(Object.entries(e).forEach((function(e){var t,i=a(e,2),u=i[0],l=i[1],f=((t={})[u]=l,t),p=n?B(f,r[1]):X(f,r[1]);p.errors||(o[u]=p.result[u])})),n||0===Object.entries(o).length?o:((t={})[r[0]]=o,t)):o}(l,f,t)).forEach((function(e){var n=a(e,2),r=n[0],t=n[1];return u[r]=t})),u}}var H=function(e){return Object.entries(e).reduce((function(e,r){var t,o=a(r,2),i=o[0],u=o[1];return n(n({},e),((t={})[u[0]]=[i,u[1],u[2]],t))}),{})};function K(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return Z(i,r)}function Q(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return Z(i,r)}function Y(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return Z(i,r)}function Z(e,n){return 1===e.length?[]:0===e.length?n.fail("Could not match against any acceptable type."):n.fail("Matched more than one type. Matched types include: "+e.map((function(e){return e.type()})).join(", "))}function ee(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].map(n,r):void 0}function ne(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeUnmap(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].unmap(n,r):void 0}function re(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].mapXml(n,r):void 0}function te(e,n,r){var a,o,i=[];r.strictValidation=!0;try{for(var u=t(e),l=u.next();!l.done;l=u.next()){var f=l.value;0===f.validateBeforeMapXml(n,r).length&&i.push(f)}}catch(e){a={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(a)throw a.error}}return 1===i.length?i[0].unmapXml(n,r):void 0}function ae(e){return"string"==typeof e}e.anyOf=function(e,n,r){return n&&r?function(e,n,r){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(t,a){var o=t&&"object"==typeof t&&t[r];return o&&n[o]?n[o].validateBeforeMap(t,a):x(e,t,a)},validateBeforeUnmap:function(t,a){var o=t&&"object"==typeof t&&t[r];return o&&n[o]?n[o].validateBeforeUnmap(t,a):M(e,t,a)},map:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].map(t,a):A(e,t,a)},unmap:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].unmap(t,a):U(e,t,a)},validateBeforeMapXml:function(t,a){var o=t&&"object"==typeof t&&t[r];return o&&n[o]?n[o].validateBeforeMapXml(t,a):w(e,t,a)},mapXml:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].mapXml(t,a):P(e,t,a)},unmapXml:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].unmapXml(t,a):N(e,t,a)}}}(e,n,r):function(e){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(n,r){return x(e,n,r)},validateBeforeUnmap:function(n,r){return M(e,n,r)},map:function(n,r){return A(e,n,r)},unmap:function(n,r){return U(e,n,r)},validateBeforeMapXml:function(n,r){return w(e,n,r)},mapXml:function(n,r){return P(e,n,r)},unmapXml:function(n,r){return N(e,n,r)}}}(e)},e.array=function(e,n){return{type:function(){return"Array<"+e.type()+">"},validateBeforeMap:function(n,r){return Array.isArray(n)?r.flatmapChildren(i(n),e,(function(n,r){return e.validateBeforeMap(n[1],r)})):r.fail()},validateBeforeUnmap:function(n,r){return Array.isArray(n)?r.flatmapChildren(i(n),e,(function(n,r){return e.validateBeforeUnmap(n[1],r)})):r.fail()},map:function(n,r){return r.mapChildren(i(n),e,(function(n,r){return e.map(n[1],r)}))},unmap:function(n,r){return r.mapChildren(i(n),e,(function(n,r){return e.unmap(n[1],r)}))},mapXml:function(r,t){var a=r;return(null==n?void 0:n.xmlItemName)&&(a=r[n.xmlItemName],t=t.createChild(n.xmlItemName,a,e)),t.mapChildren(i(a),e,(function(n,r){return e.mapXml(n[1],r)}))},unmapXml:function(r,t){var a,o=t.mapChildren(i(r),e,(function(n,r){return e.unmapXml(n[1],r)}));return(null==n?void 0:n.xmlItemName)?((a={})[n.xmlItemName]=o,a):o},validateBeforeMapXml:function(r,t){var a=r;if(null==n?void 0:n.xmlItemName){var o="Expected array to be wrapped with XML element "+n.xmlItemName+".";if("object"!=typeof r||null===r||!(n.xmlItemName in r))return t.fail(o);a=r[n.xmlItemName],t=t.createChild(n.xmlItemName,a,e)}return Array.isArray(a)?t.flatmapChildren(i(a),e,(function(n,r){return e.validateBeforeMapXml(n[1],r)})):t.fail()}}},e.bigint=function(){return c({type:"bigint",validate:p(E),map:d})},e.boolean=function(){return c({type:"boolean",validate:p(C),map:function(e){return"boolean"==typeof e?e:"true"===e}})},e.defaults=function(e,n){return{type:function(){return"Defaults<"+e.type()+","+l(n)+">"},validateBeforeMap:function(r,t){return k(r,n)?[]:e.validateBeforeMap(r,t)},validateBeforeUnmap:function(r,t){return k(r,n)?[]:e.validateBeforeUnmap(r,t)},map:function(r,t){return k(r,n)?n:e.map(r,t)},unmap:function(r,t){return k(r,n)?n:e.unmap(r,t)},validateBeforeMapXml:function(r,t){return k(r,n)?[]:e.validateBeforeMapXml(r,t)},mapXml:function(r,t){return k(r,n)?n:e.mapXml(r,t)},unmapXml:function(r,t){return k(r,n)?n:e.unmapXml(r,t)}}},e.dict=T,e.dictWithXmlEntries=function(e){var r=T(e),o=n({},r);return o.unmapXml=function(e,n){return{entry:u(r.unmapXml(e,n)).map((function(e){var n=a(e,2);return{$:{key:n[0]},_:n[1]}}))}},o.mapXml=function(e,n){var a,o;if(!("entry"in e))return{};var i=e.entry;Array.isArray(i)||(i=[i]);var u={};try{for(var l=t(i),f=l.next();!f.done;f=l.next()){var p=f.value;u[p.$.key]=p._}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return r.mapXml(u,n)},o.validateBeforeMapXml=function(e,n){var a,o;if("object"!=typeof e||null===e)return n.fail();if(!("entry"in e))return[];var i=e.entry;Array.isArray(i)||(i=[i]);var u={};try{for(var l=t(i),f=l.next();!f.done;f=l.next()){var p=f.value;if("object"!=typeof p||null===p)return n.fail('Expected "entry" to be an XML element.');if(!("$"in p)||!("key"in p.$))return n.fail('Expected "entry" element to have an attribute named "key".');var c=p;u[c.$.key]=c._}}catch(e){a={error:e}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}return r.validateBeforeMapXml(u,n)},o},e.discriminatedObject=function(e,n,r,t,o){var i=Object.values(r).reverse(),l=function(e,n,a,o){var u=function(e,n,t){if("object"==typeof e&&null!==e&&(t&&function(e,n){return"$"in e&&"object"==typeof e.$&&n in e.$}(e,n)||!t&&n in e)){var a=t?e.$[n]:e[n];if("string"==typeof a&&a in r)return r[a]}}(e,n,o);if(void 0!==u)return u;for(var l in i)if(0===a(i[l]).length)return i[l];return r[t]},f=function(e,r){return l(e,n,(function(n){return n.validateBeforeMap(e,r)}))},p=function(e,r){var t;return l(e,null!==(t=null==o?void 0:o.xmlName)&&void 0!==t?t:n,(function(n){return n.validateBeforeMapXml(e,r)}),null==o?void 0:o.isAttr)},c=function(n,r){return l(n,e,(function(e){return e.validateBeforeUnmap(n,r)}))};return{type:function(){return"DiscriminatedUnion<"+n+",["+u(r).map((function(e){var n=a(e,2);return n[0],n[1].type})).join(",")+"]>"},map:function(e,n){return f(e,n).map(e,n)},unmap:function(e,n){return c(e,n).unmap(e,n)},validateBeforeMap:function(e,n){return f(e,n).validateBeforeMap(e,n)},validateBeforeUnmap:function(e,n){return c(e,n).validateBeforeUnmap(e,n)},mapXml:function(e,n){return p(e,n).mapXml(e,n)},unmapXml:function(e,n){return c(e,n).unmapXml(e,n)},validateBeforeMapXml:function(e,n){return p(e,n).validateBeforeMapXml(e,n)}}},e.expandoObject=I,e.extendExpandoObject=function(e,r){return I(n(n({},e.objectSchema),r))},e.extendObject=function(e,r){return W(n(n({},e.objectSchema),r))},e.extendStrictObject=function(e,r){return V(n(n({},e.objectSchema),r))},e.lazy=function(e){var n,r,t,i=(n=e,t=!1,function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t?r:(t=!0,r=n.apply(this,e))});return{type:function(){return"Lazy<"+i().type()+">"},map:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).map.apply(e,o([],a(n)))},unmap:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).unmap.apply(e,o([],a(n)))},validateBeforeMap:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).validateBeforeMap.apply(e,o([],a(n)))},validateBeforeUnmap:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).validateBeforeUnmap.apply(e,o([],a(n)))},mapXml:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).mapXml.apply(e,o([],a(n)))},unmapXml:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).unmapXml.apply(e,o([],a(n)))},validateBeforeMapXml:function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=i()).validateBeforeMapXml.apply(e,o([],a(n)))}}},e.literal=function(e){return c({type:"Literal<"+l(e)+">",validate:p((function(n){return e===n})),map:function(){return e}})},e.nullable=function(e){return{type:function(){return"Nullable<"+e.type()+">"},validateBeforeMap:function(n,r){return s(n)?[]:e.validateBeforeMap(n,r)},validateBeforeUnmap:function(n,r){return null===n?[]:e.validateBeforeUnmap(n,r)},map:function(n,r){return s(n)?null:e.map(n,r)},unmap:function(n,r){return null===n?null:e.unmap(n,r)},validateBeforeMapXml:function(n,r){return null===n?[]:e.validateBeforeMapXml(n,r)},mapXml:function(n,r){return null===n?null:e.mapXml(n,r)},unmapXml:function(n,r){return null===n?null:e.unmapXml(n,r)}}},e.number=function(){return c({type:"number",validate:p(m),map:v})},e.numberEnum=function(e,n){void 0===n&&(n=!1);var r=p(function(e,n){void 0===n&&(n=!1);var r=Object.values(e);return n?function(e){return m(e)}:function(e){return m(e)&&r.includes(v(e))}}(e,n));return c({type:"Enum<"+Object.values(e).filter((function(e){return"number"==typeof e})).join(",")+">",map:v,validate:r})},e.object=W,e.oneOf=function(e,n,r){return n&&r?function(e,n,r){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(t,a){var o=t&&"object"==typeof t&&t[r];return o&&n[o]?n[o].validateBeforeMap(t,a):K(e,t,a)},validateBeforeUnmap:function(t,a){var o=t&&"object"==typeof t&&t[r];return o&&n[o]?n[o].validateBeforeUnmap(t,a):Q(e,t,a)},map:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].map(t,a):ee(e,t,a)},unmap:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].unmap(t,a):ne(e,t,a)},validateBeforeMapXml:function(t,a){var o=t&&"object"==typeof t&&t[r];return o&&n[o]?n[o].validateBeforeMapXml(t,a):Y(e,t,a)},mapXml:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].mapXml(t,a):re(e,t,a)},unmapXml:function(t,a){var o=t&&t[r];return o&&n[o]?n[o].unmapXml(t,a):te(e,t,a)}}}(e,n,r):function(e){return{type:function(){return"OneOf<"+e.map((function(e){return e.type()})).join(" | ")+">"},validateBeforeMap:function(n,r){return K(e,n,r)},validateBeforeUnmap:function(n,r){return Q(e,n,r)},map:function(n,r){return ee(e,n,r)},unmap:function(n,r){return ne(e,n,r)},validateBeforeMapXml:function(n,r){return Y(e,n,r)},mapXml:function(n,r){return re(e,n,r)},unmapXml:function(n,r){return te(e,n,r)}}}(e)},e.optional=$,e.strictObject=V,e.string=function(){return c({type:"string",validate:p(ae),map:f})},e.stringEnum=function(e,n){void 0===n&&(n=!1);var r=p(function(e,n){void 0===n&&(n=!1);var r=Object.values(e);return n?function(e){return"string"==typeof e}:function(e){return"string"==typeof e&&r.includes(e)}}(e,n));return c({type:"Enum<"+Object.values(e).map(l).join(",")+">",map:f,validate:r})},e.typedExpandoObject=function(e,n,r){return L(e,!0,[n,$(T(r))])},e.unknown=function(){return c({type:"unknown",validate:function(){return[]},map:f})},e.validateAndMap=X,e.validateAndMapXml=function(e,n){var r=j(g(e,n.type())),t=n.validateBeforeMapXml(e,r);return 0===t.length?{errors:!1,result:n.mapXml(e,r)}:{errors:t}},e.validateAndUnmap=B,e.validateAndUnmapXml=function(e,n){var r=j(g(e,n.type())),t=n.validateBeforeUnmap(e,r);return 0===t.length?{errors:!1,result:n.unmapXml(e,r)}:{errors:t}}},"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).ApimaticSchema={});
