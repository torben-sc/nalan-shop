{"ast":null,"code":"export function updateCartCount() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const cartCount = cart.reduce((total, item) => total + item.quantity, 0);\n  const cartCountElement = document.getElementById('cart-count');\n  if (cartCountElement) {\n    cartCountElement.innerText = cartCount;\n  }\n}\nexport function addToCart(product) {\n  if (!product || !product.id || typeof product.stock !== 'number' || typeof product.price !== 'number') {\n    console.error('Invalid product data:', product);\n    return;\n  }\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cart.find(item => item.id === product.id);\n  if (existingProduct) {\n    if (existingProduct.quantity < product.stock) {\n      existingProduct.quantity += 1;\n    } else {\n      alert(\"Maximum quantity reached!\");\n      return;\n    }\n  } else {\n    if (product.stock > 0) {\n      cart.push({\n        ...product,\n        quantity: 1\n      });\n    } else {\n      alert(\"This product is not available anymore.\");\n      return;\n    }\n  }\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCartCount();\n}\nexport function removeFromCart(productId) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n  cart = cart.filter(item => item.id !== productId);\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCartCount();\n}","map":{"version":3,"names":["updateCartCount","cart","JSON","parse","localStorage","getItem","cartCount","reduce","total","item","quantity","cartCountElement","document","getElementById","innerText","addToCart","product","id","stock","price","console","error","existingProduct","find","alert","push","setItem","stringify","removeFromCart","productId","filter"],"sources":["/Users/torbenschmidt/Documents/GitHub/nalan-shop/src/cart/cart.js"],"sourcesContent":["export function updateCartCount() {\n    const cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const cartCount = cart.reduce((total, item) => total + item.quantity, 0);\n    const cartCountElement = document.getElementById('cart-count');\n\n    if (cartCountElement) {\n        cartCountElement.innerText = cartCount;\n    }\n}\n\nexport function addToCart(product) {\n    if (!product || !product.id || typeof product.stock !== 'number' || typeof product.price !== 'number') {\n        console.error('Invalid product data:', product);\n        return;\n    }\n\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const existingProduct = cart.find(item => item.id === product.id);\n\n    if (existingProduct) {\n        if (existingProduct.quantity < product.stock) {\n            existingProduct.quantity += 1;\n        } else {\n            alert(\"Maximum quantity reached!\");\n            return;\n        }\n    } else {\n        if (product.stock > 0) {\n            cart.push({ ...product, quantity: 1 });\n        } else {\n            alert(\"This product is not available anymore.\");\n            return;\n        }\n    }\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n}\n\nexport function removeFromCart(productId) {\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    cart = cart.filter(item => item.id !== productId);\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n}\n"],"mappings":"AAAA,OAAO,SAASA,eAAeA,CAAA,EAAG;EAC9B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;EAC3D,MAAMC,SAAS,GAAGL,IAAI,CAACM,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAGC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAAC;EACxE,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;EAE9D,IAAIF,gBAAgB,EAAE;IAClBA,gBAAgB,CAACG,SAAS,GAAGR,SAAS;EAC1C;AACJ;AAEA,OAAO,SAASS,SAASA,CAACC,OAAO,EAAE;EAC/B,IAAI,CAACA,OAAO,IAAI,CAACA,OAAO,CAACC,EAAE,IAAI,OAAOD,OAAO,CAACE,KAAK,KAAK,QAAQ,IAAI,OAAOF,OAAO,CAACG,KAAK,KAAK,QAAQ,EAAE;IACnGC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEL,OAAO,CAAC;IAC/C;EACJ;EAEA,IAAIf,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;EACzD,MAAMiB,eAAe,GAAGrB,IAAI,CAACsB,IAAI,CAACd,IAAI,IAAIA,IAAI,CAACQ,EAAE,KAAKD,OAAO,CAACC,EAAE,CAAC;EAEjE,IAAIK,eAAe,EAAE;IACjB,IAAIA,eAAe,CAACZ,QAAQ,GAAGM,OAAO,CAACE,KAAK,EAAE;MAC1CI,eAAe,CAACZ,QAAQ,IAAI,CAAC;IACjC,CAAC,MAAM;MACHc,KAAK,CAAC,2BAA2B,CAAC;MAClC;IACJ;EACJ,CAAC,MAAM;IACH,IAAIR,OAAO,CAACE,KAAK,GAAG,CAAC,EAAE;MACnBjB,IAAI,CAACwB,IAAI,CAAC;QAAE,GAAGT,OAAO;QAAEN,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC1C,CAAC,MAAM;MACHc,KAAK,CAAC,wCAAwC,CAAC;MAC/C;IACJ;EACJ;EAEApB,YAAY,CAACsB,OAAO,CAAC,MAAM,EAAExB,IAAI,CAACyB,SAAS,CAAC1B,IAAI,CAAC,CAAC;EAClDD,eAAe,CAAC,CAAC;AACrB;AAEA,OAAO,SAAS4B,cAAcA,CAACC,SAAS,EAAE;EACtC,IAAI5B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;EACzDJ,IAAI,GAAGA,IAAI,CAAC6B,MAAM,CAACrB,IAAI,IAAIA,IAAI,CAACQ,EAAE,KAAKY,SAAS,CAAC;EACjDzB,YAAY,CAACsB,OAAO,CAAC,MAAM,EAAExB,IAAI,CAACyB,SAAS,CAAC1B,IAAI,CAAC,CAAC;EAClDD,eAAe,CAAC,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}