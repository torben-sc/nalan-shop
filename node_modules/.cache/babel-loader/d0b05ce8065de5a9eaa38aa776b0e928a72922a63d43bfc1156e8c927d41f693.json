{"ast":null,"code":"export function updateCartCount() {\n  const cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const cartCount = cart.reduce((total, item) => total + item.quantity, 0);\n  const cartCountElement = document.getElementById('cart-count');\n  if (cartCountElement) {\n    cartCountElement.innerText = cartCount;\n  }\n}\nexport function addToCart(product) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cart.find(item => item.id === product.id);\n  if (existingProduct) {\n    if (existingProduct.quantity < product.stock) {\n      existingProduct.quantity += 1;\n    } else {\n      alert(\"Maximum quantity reached!\");\n      return;\n    }\n  } else {\n    if (product.stock > 0) {\n      cart.push({\n        ...product,\n        quantity: 1\n      });\n    } else {\n      alert(\"This product is not available anymore.\");\n      return;\n    }\n  }\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCartCount();\n}\nexport function removeFromCart(productId) {\n  let cart = JSON.parse(localStorage.getItem('cart')) || [];\n  cart = cart.filter(item => item.id !== productId);\n  localStorage.setItem('cart', JSON.stringify(cart));\n  updateCartCount();\n}","map":{"version":3,"names":["updateCartCount","cart","JSON","parse","localStorage","getItem","cartCount","reduce","total","item","quantity","cartCountElement","document","getElementById","innerText","addToCart","product","existingProduct","find","id","stock","alert","push","setItem","stringify","removeFromCart","productId","filter"],"sources":["/Users/torbenschmidt/Documents/GitHub/nalan-shop/src/cart/cart.js"],"sourcesContent":["export function updateCartCount() {\n    const cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const cartCount = cart.reduce((total, item) => total + item.quantity, 0);\n    const cartCountElement = document.getElementById('cart-count');\n\n    if (cartCountElement) {\n        cartCountElement.innerText = cartCount;\n    }\n}\n\nexport function addToCart(product) {\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const existingProduct = cart.find(item => item.id === product.id);\n\n    if (existingProduct) {\n        if (existingProduct.quantity < product.stock) {\n            existingProduct.quantity += 1;\n        } else {\n            alert(\"Maximum quantity reached!\");\n            return;\n        }\n    } else {\n        if (product.stock > 0) {\n            cart.push({ ...product, quantity: 1 });\n        } else {\n            alert(\"This product is not available anymore.\");\n            return;\n        }\n    }\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n}\n\nexport function removeFromCart(productId) {\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    cart = cart.filter(item => item.id !== productId);\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n}\n"],"mappings":"AAAA,OAAO,SAASA,eAAeA,CAAA,EAAG;EAC9B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;EAC3D,MAAMC,SAAS,GAAGL,IAAI,CAACM,MAAM,CAAC,CAACC,KAAK,EAAEC,IAAI,KAAKD,KAAK,GAAGC,IAAI,CAACC,QAAQ,EAAE,CAAC,CAAC;EACxE,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;EAE9D,IAAIF,gBAAgB,EAAE;IAClBA,gBAAgB,CAACG,SAAS,GAAGR,SAAS;EAC1C;AACJ;AAEA,OAAO,SAASS,SAASA,CAACC,OAAO,EAAE;EAC/B,IAAIf,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;EACzD,MAAMY,eAAe,GAAGhB,IAAI,CAACiB,IAAI,CAACT,IAAI,IAAIA,IAAI,CAACU,EAAE,KAAKH,OAAO,CAACG,EAAE,CAAC;EAEjE,IAAIF,eAAe,EAAE;IACjB,IAAIA,eAAe,CAACP,QAAQ,GAAGM,OAAO,CAACI,KAAK,EAAE;MAC1CH,eAAe,CAACP,QAAQ,IAAI,CAAC;IACjC,CAAC,MAAM;MACHW,KAAK,CAAC,2BAA2B,CAAC;MAClC;IACJ;EACJ,CAAC,MAAM;IACH,IAAIL,OAAO,CAACI,KAAK,GAAG,CAAC,EAAE;MACnBnB,IAAI,CAACqB,IAAI,CAAC;QAAE,GAAGN,OAAO;QAAEN,QAAQ,EAAE;MAAE,CAAC,CAAC;IAC1C,CAAC,MAAM;MACHW,KAAK,CAAC,wCAAwC,CAAC;MAC/C;IACJ;EACJ;EAEAjB,YAAY,CAACmB,OAAO,CAAC,MAAM,EAAErB,IAAI,CAACsB,SAAS,CAACvB,IAAI,CAAC,CAAC;EAClDD,eAAe,CAAC,CAAC;AACrB;AAEA,OAAO,SAASyB,cAAcA,CAACC,SAAS,EAAE;EACtC,IAAIzB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE;EACzDJ,IAAI,GAAGA,IAAI,CAAC0B,MAAM,CAAClB,IAAI,IAAIA,IAAI,CAACU,EAAE,KAAKO,SAAS,CAAC;EACjDtB,YAAY,CAACmB,OAAO,CAAC,MAAM,EAAErB,IAAI,CAACsB,SAAS,CAACvB,IAAI,CAAC,CAAC;EAClDD,eAAe,CAAC,CAAC;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}