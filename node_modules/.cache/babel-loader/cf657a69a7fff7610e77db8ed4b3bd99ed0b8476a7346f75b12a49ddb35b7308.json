{"ast":null,"code":"import{fetchProducts}from'../utils/helpers.js';// Funktion zur Anzeige der Produktdetails\nexport async function displayProductDetails(){const pathParts=window.location.pathname.split('/');const productId=pathParts[pathParts.length-1];// Extrahiere die ID vom Ende des Pfads\nconst products=await fetchProducts();if(!products)return;const product=products.find(p=>p.id===productId);if(!product){document.getElementById('product-detail-container').innerHTML=\"<p>Produkt nicht gefunden.</p>\";return;}createProductImages(product);displayProductInfo(product);addButtonsAndEventListeners(product);}// Hilfsfunktion zur Erstellung der Hauptbilder und Thumbnails\nfunction createProductImages(product){const mainImageContainer=document.querySelector('.product-main-image-container');const thumbnailsContainer=document.querySelector('.product-thumbnail-container');mainImageContainer.innerHTML='';thumbnailsContainer.innerHTML='';let currentIndex=0;const imgElement=document.createElement('img');imgElement.src=product.images[currentIndex];imgElement.alt=product.name;imgElement.className='product-main-image';mainImageContainer.appendChild(imgElement);product.images.forEach((imageUrl,index)=>{const thumbnail=document.createElement('img');thumbnail.src=imageUrl;thumbnail.alt=\"\".concat(product.name,\" - Vorschau \").concat(index+1);thumbnail.className='product-thumbnail';if(index===currentIndex)thumbnail.classList.add('active');thumbnail.addEventListener('click',()=>{currentIndex=index;updateImage(imgElement,currentIndex,product.images);});thumbnailsContainer.appendChild(thumbnail);});}function updateImage(imgElement,currentIndex,images){imgElement.src=images[currentIndex];document.querySelectorAll('.product-thumbnail').forEach((thumb,index)=>{thumb.classList.toggle('active',index===currentIndex);});}function displayProductInfo(product){const infoContainer=document.querySelector('.product-info');infoContainer.innerHTML=\"\\n        <a href=\\\"/shop\\\" class=\\\"back-link\\\">Back to Collection</a>\\n        <h1 class=\\\"product-title-details\\\">\".concat(product.name,\"</h1>\\n        <p class=\\\"product-price\\\">\\u20AC\").concat(product.price.toFixed(2),\"</p>\\n        <p class=\\\"product-description\\\">\").concat(product.description,\"</p>\\n    \");}function addButtonsAndEventListeners(product){const infoContainer=document.querySelector('.product-info');const buttonContainer=document.createElement('div');buttonContainer.className='button-container';const directCheckoutButton=document.createElement('button');directCheckoutButton.id='direct-checkout-button';directCheckoutButton.className='checkout-button';directCheckoutButton.textContent='Direct Checkout';directCheckoutButton.addEventListener('click',()=>{window.location.href=\"/.netlify/functions/get-paypal-link?productId=\".concat(product.id);});buttonContainer.appendChild(directCheckoutButton);const orElement=document.createElement('p');orElement.className='or-text';orElement.textContent='OR';buttonContainer.appendChild(orElement);const addToCartButton=document.createElement('button');addToCartButton.className='add-to-cart-button';addToCartButton.textContent='Add to cart';addToCartButton.addEventListener('click',()=>{addToCart(product);document.getElementById('cart-popup').classList.add('open');});buttonContainer.appendChild(addToCartButton);infoContainer.appendChild(buttonContainer);}","map":{"version":3,"names":["fetchProducts","displayProductDetails","pathParts","window","location","pathname","split","productId","length","products","product","find","p","id","document","getElementById","innerHTML","createProductImages","displayProductInfo","addButtonsAndEventListeners","mainImageContainer","querySelector","thumbnailsContainer","currentIndex","imgElement","createElement","src","images","alt","name","className","appendChild","forEach","imageUrl","index","thumbnail","concat","classList","add","addEventListener","updateImage","querySelectorAll","thumb","toggle","infoContainer","price","toFixed","description","buttonContainer","directCheckoutButton","textContent","href","orElement","addToCartButton","addToCart"],"sources":["/Users/torbenschmidt/Documents/GitHub/nalan-shop/src/products/productDetails.js"],"sourcesContent":["import { fetchProducts } from '../utils/helpers.js';\n\n// Funktion zur Anzeige der Produktdetails\nexport async function displayProductDetails() {\n    const pathParts = window.location.pathname.split('/');\n    const productId = pathParts[pathParts.length - 1]; // Extrahiere die ID vom Ende des Pfads\n\n    const products = await fetchProducts();\n    if (!products) return;\n\n    const product = products.find(p => p.id === productId);\n    if (!product) {\n        document.getElementById('product-detail-container').innerHTML = `<p>Produkt nicht gefunden.</p>`;\n        return;\n    }\n\n    createProductImages(product);\n    displayProductInfo(product);\n    addButtonsAndEventListeners(product);\n}\n\n// Hilfsfunktion zur Erstellung der Hauptbilder und Thumbnails\nfunction createProductImages(product) {\n    const mainImageContainer = document.querySelector('.product-main-image-container');\n    const thumbnailsContainer = document.querySelector('.product-thumbnail-container');\n\n    mainImageContainer.innerHTML = '';\n    thumbnailsContainer.innerHTML = '';\n\n    let currentIndex = 0;\n\n    const imgElement = document.createElement('img');\n    imgElement.src = product.images[currentIndex];\n    imgElement.alt = product.name;\n    imgElement.className = 'product-main-image';\n    mainImageContainer.appendChild(imgElement);\n\n    product.images.forEach((imageUrl, index) => {\n        const thumbnail = document.createElement('img');\n        thumbnail.src = imageUrl;\n        thumbnail.alt = `${product.name} - Vorschau ${index + 1}`;\n        thumbnail.className = 'product-thumbnail';\n        if (index === currentIndex) thumbnail.classList.add('active');\n        thumbnail.addEventListener('click', () => {\n            currentIndex = index;\n            updateImage(imgElement, currentIndex, product.images);\n        });\n        thumbnailsContainer.appendChild(thumbnail);\n    });\n}\n\nfunction updateImage(imgElement, currentIndex, images) {\n    imgElement.src = images[currentIndex];\n    document.querySelectorAll('.product-thumbnail').forEach((thumb, index) => {\n        thumb.classList.toggle('active', index === currentIndex);\n    });\n}\n\nfunction displayProductInfo(product) {\n    const infoContainer = document.querySelector('.product-info');\n    infoContainer.innerHTML = `\n        <a href=\"/shop\" class=\"back-link\">Back to Collection</a>\n        <h1 class=\"product-title-details\">${product.name}</h1>\n        <p class=\"product-price\">â‚¬${product.price.toFixed(2)}</p>\n        <p class=\"product-description\">${product.description}</p>\n    `;\n}\n\nfunction addButtonsAndEventListeners(product) {\n    const infoContainer = document.querySelector('.product-info');\n\n    const buttonContainer = document.createElement('div');\n    buttonContainer.className = 'button-container';\n\n    const directCheckoutButton = document.createElement('button');\n    directCheckoutButton.id = 'direct-checkout-button';\n    directCheckoutButton.className = 'checkout-button';\n    directCheckoutButton.textContent = 'Direct Checkout';\n    directCheckoutButton.addEventListener('click', () => {\n        window.location.href = `/.netlify/functions/get-paypal-link?productId=${product.id}`;\n    });\n    buttonContainer.appendChild(directCheckoutButton);\n\n    const orElement = document.createElement('p');\n    orElement.className = 'or-text';\n    orElement.textContent = 'OR';\n    buttonContainer.appendChild(orElement);\n\n    const addToCartButton = document.createElement('button');\n    addToCartButton.className = 'add-to-cart-button';\n    addToCartButton.textContent = 'Add to cart';\n    addToCartButton.addEventListener('click', () => {\n        addToCart(product);\n        document.getElementById('cart-popup').classList.add('open');\n    });\n    buttonContainer.appendChild(addToCartButton);\n\n    infoContainer.appendChild(buttonContainer);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}