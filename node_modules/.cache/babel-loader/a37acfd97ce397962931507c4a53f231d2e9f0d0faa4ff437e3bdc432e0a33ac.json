{"ast":null,"code":"import _objectSpread from\"/Users/torbenschmidt/Documents/GitHub/nalan-shop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export function updateCartCount(){const cart=JSON.parse(localStorage.getItem('cart'))||[];const cartCount=cart.reduce((total,item)=>total+item.quantity,0);const cartCountElement=document.getElementById('cart-count');if(cartCountElement){cartCountElement.innerText=cartCount;}}export function addToCart(product){if(!product||!product.id||typeof product.stock!=='number'||typeof product.price!=='number'){console.error('Invalid product data:',product);return;}let cart=JSON.parse(localStorage.getItem('cart'))||[];const existingProduct=cart.find(item=>item.id===product.id);if(existingProduct){if(existingProduct.quantity<product.stock){existingProduct.quantity+=1;}else{alert(\"Maximum quantity reached!\");return;}}else{if(product.stock>0){cart.push(_objectSpread(_objectSpread({},product),{},{quantity:1}));}else{alert(\"This product is not available anymore.\");return;}}localStorage.setItem('cart',JSON.stringify(cart));updateCartCount();}export function removeFromCart(productId){let cart=JSON.parse(localStorage.getItem('cart'))||[];cart=cart.filter(item=>item.id!==productId);localStorage.setItem('cart',JSON.stringify(cart));updateCartCount();}","map":{"version":3,"names":["updateCartCount","cart","JSON","parse","localStorage","getItem","cartCount","reduce","total","item","quantity","cartCountElement","document","getElementById","innerText","addToCart","product","id","stock","price","console","error","existingProduct","find","alert","push","_objectSpread","setItem","stringify","removeFromCart","productId","filter"],"sources":["/Users/torbenschmidt/Documents/GitHub/nalan-shop/src/cart/cart.js"],"sourcesContent":["export function updateCartCount() {\n    const cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const cartCount = cart.reduce((total, item) => total + item.quantity, 0);\n    const cartCountElement = document.getElementById('cart-count');\n\n    if (cartCountElement) {\n        cartCountElement.innerText = cartCount;\n    }\n}\n\nexport function addToCart(product) {\n    if (!product || !product.id || typeof product.stock !== 'number' || typeof product.price !== 'number') {\n        console.error('Invalid product data:', product);\n        return;\n    }\n\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    const existingProduct = cart.find(item => item.id === product.id);\n\n    if (existingProduct) {\n        if (existingProduct.quantity < product.stock) {\n            existingProduct.quantity += 1;\n        } else {\n            alert(\"Maximum quantity reached!\");\n            return;\n        }\n    } else {\n        if (product.stock > 0) {\n            cart.push({ ...product, quantity: 1 });\n        } else {\n            alert(\"This product is not available anymore.\");\n            return;\n        }\n    }\n\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n}\n\nexport function removeFromCart(productId) {\n    let cart = JSON.parse(localStorage.getItem('cart')) || [];\n    cart = cart.filter(item => item.id !== productId);\n    localStorage.setItem('cart', JSON.stringify(cart));\n    updateCartCount();\n}\n"],"mappings":"qIAAA,MAAO,SAAS,CAAAA,eAAeA,CAAA,CAAG,CAC9B,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,EAAE,CAC3D,KAAM,CAAAC,SAAS,CAAGL,IAAI,CAACM,MAAM,CAAC,CAACC,KAAK,CAAEC,IAAI,GAAKD,KAAK,CAAGC,IAAI,CAACC,QAAQ,CAAE,CAAC,CAAC,CACxE,KAAM,CAAAC,gBAAgB,CAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAE9D,GAAIF,gBAAgB,CAAE,CAClBA,gBAAgB,CAACG,SAAS,CAAGR,SAAS,CAC1C,CACJ,CAEA,MAAO,SAAS,CAAAS,SAASA,CAACC,OAAO,CAAE,CAC/B,GAAI,CAACA,OAAO,EAAI,CAACA,OAAO,CAACC,EAAE,EAAI,MAAO,CAAAD,OAAO,CAACE,KAAK,GAAK,QAAQ,EAAI,MAAO,CAAAF,OAAO,CAACG,KAAK,GAAK,QAAQ,CAAE,CACnGC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEL,OAAO,CAAC,CAC/C,OACJ,CAEA,GAAI,CAAAf,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,EAAE,CACzD,KAAM,CAAAiB,eAAe,CAAGrB,IAAI,CAACsB,IAAI,CAACd,IAAI,EAAIA,IAAI,CAACQ,EAAE,GAAKD,OAAO,CAACC,EAAE,CAAC,CAEjE,GAAIK,eAAe,CAAE,CACjB,GAAIA,eAAe,CAACZ,QAAQ,CAAGM,OAAO,CAACE,KAAK,CAAE,CAC1CI,eAAe,CAACZ,QAAQ,EAAI,CAAC,CACjC,CAAC,IAAM,CACHc,KAAK,CAAC,2BAA2B,CAAC,CAClC,OACJ,CACJ,CAAC,IAAM,CACH,GAAIR,OAAO,CAACE,KAAK,CAAG,CAAC,CAAE,CACnBjB,IAAI,CAACwB,IAAI,CAAAC,aAAA,CAAAA,aAAA,IAAMV,OAAO,MAAEN,QAAQ,CAAE,CAAC,EAAE,CAAC,CAC1C,CAAC,IAAM,CACHc,KAAK,CAAC,wCAAwC,CAAC,CAC/C,OACJ,CACJ,CAEApB,YAAY,CAACuB,OAAO,CAAC,MAAM,CAAEzB,IAAI,CAAC0B,SAAS,CAAC3B,IAAI,CAAC,CAAC,CAClDD,eAAe,CAAC,CAAC,CACrB,CAEA,MAAO,SAAS,CAAA6B,cAAcA,CAACC,SAAS,CAAE,CACtC,GAAI,CAAA7B,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAI,EAAE,CACzDJ,IAAI,CAAGA,IAAI,CAAC8B,MAAM,CAACtB,IAAI,EAAIA,IAAI,CAACQ,EAAE,GAAKa,SAAS,CAAC,CACjD1B,YAAY,CAACuB,OAAO,CAAC,MAAM,CAAEzB,IAAI,CAAC0B,SAAS,CAAC3B,IAAI,CAAC,CAAC,CAClDD,eAAe,CAAC,CAAC,CACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}