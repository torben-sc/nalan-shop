{"ast":null,"code":"import { fetchProducts } from '../utils/helpers.js';\n\n// Funktion zur Anzeige der Produktdetails\nexport async function displayProductDetails() {\n  const pathParts = window.location.pathname.split('/');\n  const productId = pathParts[pathParts.length - 1]; // Extrahiere die ID vom Ende des Pfads\n\n  const products = await fetchProducts();\n  if (!products) return;\n  const product = products.find(p => p.id === productId);\n  if (!product) {\n    document.getElementById('product-detail-container').innerHTML = `<p>Produkt nicht gefunden.</p>`;\n    return;\n  }\n  createProductImages(product);\n  displayProductInfo(product);\n  addButtonsAndEventListeners(product);\n}\n\n// Hilfsfunktion zur Erstellung der Hauptbilder und Thumbnails\nfunction createProductImages(product) {\n  const mainImageContainer = document.querySelector('.product-main-image-container');\n  const thumbnailsContainer = document.querySelector('.product-thumbnail-container');\n  mainImageContainer.innerHTML = '';\n  thumbnailsContainer.innerHTML = '';\n  let currentIndex = 0;\n  const imgElement = document.createElement('img');\n  imgElement.src = product.images[currentIndex];\n  imgElement.alt = product.name;\n  imgElement.className = 'product-main-image';\n  mainImageContainer.appendChild(imgElement);\n  product.images.forEach((imageUrl, index) => {\n    const thumbnail = document.createElement('img');\n    thumbnail.src = imageUrl;\n    thumbnail.alt = `${product.name} - Vorschau ${index + 1}`;\n    thumbnail.className = 'product-thumbnail';\n    if (index === currentIndex) thumbnail.classList.add('active');\n    thumbnail.addEventListener('click', () => {\n      currentIndex = index;\n      updateImage(imgElement, currentIndex, product.images);\n    });\n    thumbnailsContainer.appendChild(thumbnail);\n  });\n}\nfunction updateImage(imgElement, currentIndex, images) {\n  imgElement.src = images[currentIndex];\n  document.querySelectorAll('.product-thumbnail').forEach((thumb, index) => {\n    thumb.classList.toggle('active', index === currentIndex);\n  });\n}\nfunction displayProductInfo(product) {\n  const infoContainer = document.querySelector('.product-info');\n  infoContainer.innerHTML = `\n        <a href=\"/shop\" class=\"back-link\">Back to Collection</a>\n        <h1 class=\"product-title-details\">${product.name}</h1>\n        <p class=\"product-price\">€${product.price.toFixed(2)}</p>\n        <p class=\"product-description\">${product.description}</p>\n    `;\n}\nfunction addButtonsAndEventListeners(product) {\n  const infoContainer = document.querySelector('.product-info');\n  const buttonContainer = document.createElement('div');\n  buttonContainer.className = 'button-container';\n  const directCheckoutButton = document.createElement('button');\n  directCheckoutButton.id = 'direct-checkout-button';\n  directCheckoutButton.className = 'checkout-button';\n  directCheckoutButton.textContent = 'Direct Checkout';\n  directCheckoutButton.addEventListener('click', () => {\n    window.location.href = `/.netlify/functions/get-paypal-link?productId=${product.id}`;\n  });\n  buttonContainer.appendChild(directCheckoutButton);\n  const orElement = document.createElement('p');\n  orElement.className = 'or-text';\n  orElement.textContent = 'OR';\n  buttonContainer.appendChild(orElement);\n  const addToCartButton = document.createElement('button');\n  addToCartButton.className = 'add-to-cart-button';\n  addToCartButton.textContent = 'Add to cart';\n  addToCartButton.addEventListener('click', () => {\n    addToCart(product);\n    document.getElementById('cart-popup').classList.add('open');\n  });\n  buttonContainer.appendChild(addToCartButton);\n  infoContainer.appendChild(buttonContainer);\n}","map":{"version":3,"names":["fetchProducts","displayProductDetails","pathParts","window","location","pathname","split","productId","length","products","product","find","p","id","document","getElementById","innerHTML","createProductImages","displayProductInfo","addButtonsAndEventListeners","mainImageContainer","querySelector","thumbnailsContainer","currentIndex","imgElement","createElement","src","images","alt","name","className","appendChild","forEach","imageUrl","index","thumbnail","classList","add","addEventListener","updateImage","querySelectorAll","thumb","toggle","infoContainer","price","toFixed","description","buttonContainer","directCheckoutButton","textContent","href","orElement","addToCartButton","addToCart"],"sources":["/Users/torbenschmidt/Documents/GitHub/nalan-shop/src/products/productDetails.js"],"sourcesContent":["import { fetchProducts } from '../utils/helpers.js';\n\n// Funktion zur Anzeige der Produktdetails\nexport async function displayProductDetails() {\n    const pathParts = window.location.pathname.split('/');\n    const productId = pathParts[pathParts.length - 1]; // Extrahiere die ID vom Ende des Pfads\n\n    const products = await fetchProducts();\n    if (!products) return;\n\n    const product = products.find(p => p.id === productId);\n    if (!product) {\n        document.getElementById('product-detail-container').innerHTML = `<p>Produkt nicht gefunden.</p>`;\n        return;\n    }\n\n    createProductImages(product);\n    displayProductInfo(product);\n    addButtonsAndEventListeners(product);\n}\n\n// Hilfsfunktion zur Erstellung der Hauptbilder und Thumbnails\nfunction createProductImages(product) {\n    const mainImageContainer = document.querySelector('.product-main-image-container');\n    const thumbnailsContainer = document.querySelector('.product-thumbnail-container');\n\n    mainImageContainer.innerHTML = '';\n    thumbnailsContainer.innerHTML = '';\n\n    let currentIndex = 0;\n\n    const imgElement = document.createElement('img');\n    imgElement.src = product.images[currentIndex];\n    imgElement.alt = product.name;\n    imgElement.className = 'product-main-image';\n    mainImageContainer.appendChild(imgElement);\n\n    product.images.forEach((imageUrl, index) => {\n        const thumbnail = document.createElement('img');\n        thumbnail.src = imageUrl;\n        thumbnail.alt = `${product.name} - Vorschau ${index + 1}`;\n        thumbnail.className = 'product-thumbnail';\n        if (index === currentIndex) thumbnail.classList.add('active');\n        thumbnail.addEventListener('click', () => {\n            currentIndex = index;\n            updateImage(imgElement, currentIndex, product.images);\n        });\n        thumbnailsContainer.appendChild(thumbnail);\n    });\n}\n\nfunction updateImage(imgElement, currentIndex, images) {\n    imgElement.src = images[currentIndex];\n    document.querySelectorAll('.product-thumbnail').forEach((thumb, index) => {\n        thumb.classList.toggle('active', index === currentIndex);\n    });\n}\n\nfunction displayProductInfo(product) {\n    const infoContainer = document.querySelector('.product-info');\n    infoContainer.innerHTML = `\n        <a href=\"/shop\" class=\"back-link\">Back to Collection</a>\n        <h1 class=\"product-title-details\">${product.name}</h1>\n        <p class=\"product-price\">€${product.price.toFixed(2)}</p>\n        <p class=\"product-description\">${product.description}</p>\n    `;\n}\n\nfunction addButtonsAndEventListeners(product) {\n    const infoContainer = document.querySelector('.product-info');\n\n    const buttonContainer = document.createElement('div');\n    buttonContainer.className = 'button-container';\n\n    const directCheckoutButton = document.createElement('button');\n    directCheckoutButton.id = 'direct-checkout-button';\n    directCheckoutButton.className = 'checkout-button';\n    directCheckoutButton.textContent = 'Direct Checkout';\n    directCheckoutButton.addEventListener('click', () => {\n        window.location.href = `/.netlify/functions/get-paypal-link?productId=${product.id}`;\n    });\n    buttonContainer.appendChild(directCheckoutButton);\n\n    const orElement = document.createElement('p');\n    orElement.className = 'or-text';\n    orElement.textContent = 'OR';\n    buttonContainer.appendChild(orElement);\n\n    const addToCartButton = document.createElement('button');\n    addToCartButton.className = 'add-to-cart-button';\n    addToCartButton.textContent = 'Add to cart';\n    addToCartButton.addEventListener('click', () => {\n        addToCart(product);\n        document.getElementById('cart-popup').classList.add('open');\n    });\n    buttonContainer.appendChild(addToCartButton);\n\n    infoContainer.appendChild(buttonContainer);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}